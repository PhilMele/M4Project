{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="container">

<h1>Transaction History</h1>

<p>From this page, you can see all your parking transactions made through the GeoPay.</p>
    {% for stay in user_history %} 
    <!-- table for each transaction -->
    <div class="table-row-div history-container"> 

        <!-- Parking Name --> 
        {% block parking_name_block %}
            {% include 'history/history_blocks/parking_name_block.html' %}
        {% endblock %}


        <!-- Check-In info -->
        {% block check_in_info_block %}
            {% include 'history/history_blocks/check_in_info_block.html' %}
        {% endblock %}


        <!-- Check-Out info -->
        {% block check_out_info_block %}
            {% include 'history/history_blocks/check_out_info_block.html' %}
        {% endblock %}


        <!-- Fee info -->
        {% block fee_info_block %}
            {% include 'history/history_blocks/fee_info_block.html' %}
        {% endblock %}


        <!-- Transaction Id -->
        {% if stay.paid %}

            {% block transaction_id_block %}
                {% include 'history/history_blocks/transaction_id_block.html' %}
            {% endblock %}

        {% endif %}
        
    </div>
    <hr>
    {% empty %}
    <!-- Transaction loop is empty -->
    <div class="row table-row-div d-flex align-items-center justify-content-center">
        <p>No transactions found. You havenâ€™t made any parking transactions yet.</p>
    </div>
    {% endfor %}  
</div>
{% endblock %}
